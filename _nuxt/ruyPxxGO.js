const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CXRBEFTm.js","./CvY2n0_W.js","./BcbDIdSm.js","./RM_pLiCR.js","./CI3YUgpP.js"])))=>i.map(i=>d[i]);
import{_ as N}from"./CQku58eS.js";import{N as c,O as P,z as m,A,P as B,Q as O,m as i,w as o,y as F,R as M,o as s,b as a,g as y,S,s as k,d as v,v as w,k as z,c as _,F as x,r as b,V as U,a as $,E as j,j as E,T as Q,L as q,M as G}from"./CgsMm6FT.js";import{S as H}from"./BERS6KOh.js";const J={painting:{1:()=>c(()=>import("./4WYjpqc9.js"),[],import.meta.url)},drywall:{1:()=>c(()=>import("./CXRBEFTm.js"),__vite__mapDeps([0,1]),import.meta.url)},buildings:{1:()=>c(()=>import("./BcbDIdSm.js"),__vite__mapDeps([2,1]),import.meta.url)},insulation:{1:()=>c(()=>import("./RM_pLiCR.js"),__vite__mapDeps([3,1]),import.meta.url)},reconstruction:{1:()=>c(()=>import("./CI3YUgpP.js"),__vite__mapDeps([4,1]),import.meta.url)},roofing:{}},K=["onClick"],W=["src"],X=["src"],oe={__name:"[project]",setup(Y){const g=P(),h=M(),C=g.params.category,I=g.params.project,n=m({project:[]}),d=m(!1),p=m(0),f=m([]),R=A(()=>n.value.project.media||[]),T=l=>{p.value=l,d.value=!0},L=()=>h.back();B(async()=>{var e;const l=(e=J[C])==null?void 0:e[I];if(l)try{const r=await l();n.value=r}catch(r){console.error("Failed to load project module",r)}}),O(p,l=>{f.value.forEach((e,r)=>{e&&r!==l&&(e.pause(),e.currentTime=0)})});const D=l=>{l||f.value.forEach(e=>{e&&(e.pause(),e.currentTime=0)})};return(l,e)=>{const r=N;return s(),i(F,{fluid:"",class:"px-1"},{default:o(()=>[a(y,null,{default:o(()=>[a(r,{to:"",onClick:S(L,["prevent"])},{default:o(()=>[a(k,{variant:"text",color:"primary",size:"large",class:"my-2 mx-6"},{default:o(()=>[a(w,{class:"me-2"},{default:o(()=>e[3]||(e[3]=[v("mdi-arrow-left")])),_:1}),e[4]||(e[4]=v(" Naspäť "))]),_:1})]),_:1})]),_:1}),a(H,{title:n.value.project.title||"",subtitle:n.value.project.description||"",services:n.value.project.details||[]},null,8,["title","subtitle","services"]),a(z,{dense:"",class:"py-6"},{default:o(()=>[(s(!0),_(x,null,b(n.value.project.media||[],(t,u)=>(s(),i(U,{key:u,cols:"12",sm:"6",md:"2",class:"d-flex"},{default:o(()=>[$("div",{class:"w-100 h-100",onClick:V=>T(u),style:{cursor:"pointer"}},[t.src&&t.type==="image"?(s(),i(E,{key:0,src:t.src,alt:t.alt,cover:"",class:"rounded-lg w-100 h-100"},null,8,["src","alt"])):t.src&&t.type==="video"?(s(),_("video",{key:1,controls:"",src:t.src,class:"rounded-lg w-100 h-100",style:{"object-fit":"cover"}},null,8,W)):j("",!0)],8,K)]),_:2},1024))),128))]),_:1}),a(Q,{modelValue:d.value,"onUpdate:modelValue":[e[2]||(e[2]=t=>d.value=t),D],fullscreen:"",transition:"dialog-bottom-transition"},{default:o(()=>[a(y,{class:"bg-black bg-opacity-90 d-flex flex-column"},{default:o(()=>[a(k,{icon:"",class:"ma-2 align-self-end",onClick:e[0]||(e[0]=t=>d.value=!1)},{default:o(()=>[a(w,{color:"white"},{default:o(()=>e[5]||(e[5]=[v("mdi-close")])),_:1})]),_:1}),a(q,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=t=>p.value=t),"show-arrows":"",height:"90vh"},{default:o(()=>[(s(!0),_(x,null,b(R.value,(t,u)=>(s(),i(G,{key:u},{default:o(()=>[t.type==="image"?(s(),i(E,{key:0,src:t.src,alt:t.alt,class:"w-100 h-100",contain:""},null,8,["src","alt"])):t.type==="video"?(s(),_("video",{key:1,ref_for:!0,ref:V=>f.value[u]=V,src:t.src,controls:"",autoplay:"",class:"w-100 h-100",style:{"object-fit":"contain"}},null,8,X)):j("",!0)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{oe as default};
